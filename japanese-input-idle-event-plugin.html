<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Japanese input idle event with plugin</title>
</head>
<body>
<div>
<label>Input text with IME on:</label>
<input type="text" id="text1"></input><br/>
<textarea rows="10" cols="40" id="text2"></textarea>
<p>A log will be appended at 500ms after both of these conditions met.</p>
<ul>
<li>key inputs becomes idle.</li>
<li>IME does not have uncommitted text.</li>
</ul>
</div>
<div>
<div>
<label>log:</label>
</div>
<div>
<textarea rows="10" cols="40" id="log"></textarea>
</div>
<script src="js/jquery-1.11.0.js"></script>
<script src="js/jquery.japaneseinputidle.js"></script>
<script>
$(function() {
  function doSomeWork(e) {
    log("Do some work with text: " + $(e.target).val());
  }

  function log(message) {
    var el = $("#log");
    el.text(el.text() + message + "\r");
    el.scrollTop(el[0].scrollHeight - el.height());
  }

  $("input[type=text],textarea").japaneseinputidle(500, doSomeWork);
});
</script>
</body>
</html>
